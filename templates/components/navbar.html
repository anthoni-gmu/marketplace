{% load static %}

{% url 'home' as home %}
{% url 'product-list' as productlist %}

<nav class="bg-white shadow dark:bg-gray-800" x-data="{open:false}">
  <div class="container px-6 py-4 mx-auto md:flex md:justify-between md:items-center">
    <div class="flex items-center justify-between">
      <a href="{% url 'home' %}">
        <img class="md:h-14 w-auto h-10" src="{% static 'images/logo.png' %}" alt="">
      </a>

      <!-- Mobile menu button -->
      <div class="flex md:hidden z-10" @click="open=true">
        <button type="button"
          class="text-gray-500 dark:text-gray-200 hover:text-gray-600 dark:hover:text-gray-400 focus:outline-none focus:text-gray-600 dark:focus:text-gray-400"
          aria-label="toggle menu">
          <svg viewBox="0 0 24 24" class="w-6 h-6 fill-current">
            <path fill-rule="evenodd"
              d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z">
            </path>
          </svg>
        </button>
      </div>
    </div>

    <div x-show="open" @click.away="open=false" class="items-center md:flex ">
      <div class="flex flex-col md:flex-row md:mx-6">


        <a class="flex justify-center items-center text-lg my-1 hover:text-yellow-500 bg-gray-50"
          href="{% url 'home'%}">
          <svg class="mx-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
            style="fill: rgba(245, 158, 11, 1);transform: ;msFilter:;">
            <path
              d="m14.49 20.937 5.381-1.166S17.93 6.633 17.914 6.546c-.016-.086-.086-.144-.158-.144s-1.439-.101-1.439-.101-.949-.949-1.064-1.05c-.027-.029-.057-.043-.086-.058l-.677 15.744zm.446-15.772c-.016 0-.043.014-.057.014-.016 0-.217.059-.533.158-.318-.919-.879-1.768-1.871-1.768h-.086c-.289-.361-.633-.519-.936-.519-2.316 0-3.426 2.892-3.77 4.359-.892.275-1.538.476-1.613.505-.504.158-.517.172-.574.648-.057.344-1.367 10.489-1.367 10.489l10.117 1.899.69-15.785zm-2.635.704v.102c-.559.173-1.178.36-1.783.547.346-1.323.992-1.972 1.553-2.217.146.375.23.878.23 1.568zm-.92-2.2c.1 0 .201.028.303.102-.732.344-1.539 1.222-1.871 2.978a59.11 59.11 0 0 1-1.411.432c.389-1.339 1.325-3.512 2.979-3.512zm.402 7.812s-.604-.315-1.322-.315c-1.08 0-1.123.676-1.123.849 0 .921 2.418 1.28 2.418 3.453 0 1.712-1.08 2.806-2.547 2.806-1.756 0-2.648-1.094-2.648-1.094l.475-1.554s.922.792 1.697.792a.693.693 0 0 0 .721-.69c0-1.209-1.986-1.268-1.986-3.252 0-1.669 1.195-3.295 3.627-3.295.936 0 1.395.272 1.395.272l-.707 2.028zm.922-7.281c.518.06.85.648 1.064 1.311-.258.087-.547.173-.863.273v-.187c0-.561-.072-1.022-.201-1.397z">
            </path>
          </svg>
          <span class="mx-1"> Marketplace</span>

        </a>
        <a class="flex justify-center items-center text-lg my-1 hover:text-yellow-500 bg-gray-50"
          href="{% url 'product-list' %}">
          <svg class="mx-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
            style="fill: rgba(245, 158, 11, 1);transform: ;msFilter:;">
            <path
              d="M20 12v6a1 1 0 0 1-2 0V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v14c0 1.654 1.346 3 3 3h14c1.654 0 3-1.346 3-3v-6h-2zm-6-1v2H6v-2h8zM6 9V7h8v2H6zm8 6v2h-3v-2h3z">
            </path>
          </svg>
          <span class="mx-1">Mis Productos</span>

        </a>

      </div>

      {% if user.is_authenticated %}
      <!-- This example requires Tailwind CSS v2.0+ -->
      <a href="#" class="flex-shrink-0 group block my-1 bg-gray-50">
        <div class="flex items-center justify-center">
          <div>
            <img class="inline-block h-9 w-9 rounded-full"
              src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
              alt="">
          </div>
          <div class="ml-3">
            <p class="text-sm font-medium text-gray-700 group-hover:text-gray-900">
              Tom Cook
            </p>
            <p class="text-xs font-medium text-gray-500 group-hover:text-gray-700">
              View profile
            </p>
          </div>
        </div>
      </a>

      {% else %}
      <div class="mt-6">
        <a href="{% url 'account_login' %}"
          class="w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-800 hover:bg-yellow-700">
          Ingresar
        </a>
        <p class="mt-3 text-center text-base font-medium text-gray-500">
          No tienes cuenta?
          <a href="{% url 'account_signup' %}" class="text-yellow-600 hover:text-yellow-500">
            Regístrate
          </a>
        </p>
      </div>
      {% endif %}
    </div>



    <div class="hidden md:flex bg-gray-100 rounded-full shadow-sm ">
      <div class="flex flex-col md:flex-row md:mx-6">
        <a class="flex justify-center items-center text-lg my-1 hover:text-yellow-500 " href="{% url 'product-list' %}">
          <svg class="mx-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
            style="fill: rgba(245, 158, 11, 1);transform: ;msFilter:;">
            <path
              d="m14.49 20.937 5.381-1.166S17.93 6.633 17.914 6.546c-.016-.086-.086-.144-.158-.144s-1.439-.101-1.439-.101-.949-.949-1.064-1.05c-.027-.029-.057-.043-.086-.058l-.677 15.744zm.446-15.772c-.016 0-.043.014-.057.014-.016 0-.217.059-.533.158-.318-.919-.879-1.768-1.871-1.768h-.086c-.289-.361-.633-.519-.936-.519-2.316 0-3.426 2.892-3.77 4.359-.892.275-1.538.476-1.613.505-.504.158-.517.172-.574.648-.057.344-1.367 10.489-1.367 10.489l10.117 1.899.69-15.785zm-2.635.704v.102c-.559.173-1.178.36-1.783.547.346-1.323.992-1.972 1.553-2.217.146.375.23.878.23 1.568zm-.92-2.2c.1 0 .201.028.303.102-.732.344-1.539 1.222-1.871 2.978a59.11 59.11 0 0 1-1.411.432c.389-1.339 1.325-3.512 2.979-3.512zm.402 7.812s-.604-.315-1.322-.315c-1.08 0-1.123.676-1.123.849 0 .921 2.418 1.28 2.418 3.453 0 1.712-1.08 2.806-2.547 2.806-1.756 0-2.648-1.094-2.648-1.094l.475-1.554s.922.792 1.697.792a.693.693 0 0 0 .721-.69c0-1.209-1.986-1.268-1.986-3.252 0-1.669 1.195-3.295 3.627-3.295.936 0 1.395.272 1.395.272l-.707 2.028zm.922-7.281c.518.06.85.648 1.064 1.311-.258.087-.547.173-.863.273v-.187c0-.561-.072-1.022-.201-1.397z">
            </path>
          </svg>
          <span class="mx-1">Marketplace</span>

        </a>
        <a class="flex justify-center items-center text-lg my-1 hover:text-yellow-500 " href="{% url 'product-list' %}">
          <svg class="mx-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
            style="fill: rgba(245, 158, 11, 1);transform: ;msFilter:;">
            <path
              d="M20 12v6a1 1 0 0 1-2 0V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v14c0 1.654 1.346 3 3 3h14c1.654 0 3-1.346 3-3v-6h-2zm-6-1v2H6v-2h8zM6 9V7h8v2H6zm8 6v2h-3v-2h3z">
            </path>
          </svg>
          <span class="mx-1">Mis Productos</span>

        </a>

      </div>

      <div x-data="{open:false}" class="flex items-center md:ml-12">
        {% if user.is_authenticated %}
        <div class="relative inline-block text-left">
          <div>
            <button @click="open=true" type="button"
              class="inline-flex justify-center w-full rounded-md px-4 py-2 text-sm font-medium text-gray-700  focus:outline-none  focus:ring-offset-gray-100 "
              id="menu-button" aria-expanded="true" aria-haspopup="true">

              <img class="inline-block h-10 w-10 rounded-full"
                src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                alt="">

            </button>
          </div>

          <div x-show="open" @click.away="open=false" x-transition:enter="ease-out duration-300"
            x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
            x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
            class="z-10 origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"
            role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
            <div class="py-1" role="none">
              <!-- Active: "bg-gray-100 text-gray-900", Not Active: "text-gray-700" -->
              <a href="#" class="text-gray-700 block px-4 py-2 text-sm hover:text-yellow-500" role="menuitem"
                tabindex="-1" id="menu-item-0">Editar Perfil</a>
              <a href="#" class="text-gray-700 block px-4 py-2 text-sm hover:text-yellow-500" role="menuitem"
                tabindex="-1" id="menu-item-0">Metodo de Pago</a>
              <a href="{% url 'account_logout' %}" class="text-gray-700 block px-4 py-2 text-sm  hover:text-yellow-500"
                role="menuitem" tabindex="-1" id="menu-item-0">Cerrar Sesión</a>

            </div>
          </div>
        </div>
        {% else %}
        <a href="{% url 'account_login' %}"
          class="border border-yellow-500 text-yellow-500 rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:text-white hover:bg-yellow-600 focus:outline-none focus:shadow-outline">
          Ingresar
        </a>
        <a href="{% url 'account_signup' %}"
          class=" inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-800 hover:bg-yellow-800">
          Regístrate
        </a>
        {% endif %}
      </div>
    </div>
  </div>
</nav>