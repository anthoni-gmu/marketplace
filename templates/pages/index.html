{% extends 'base.html' %}
{% load static %}

{% block content %}

<div x-data="{ cartOpen: false , isOpen: false }" class="bg-white">
    {% block navbar %}
    {% include 'components/navbar.html' %}
    {% endblock navbar %}
   
    <div :class="cartOpen ? 'translate-x-0 ease-out' : 'translate-x-full ease-in'" class="fixed right-0 top-0 max-w-sm w-full h-full px-6 py-4 transition duration-300 transform overflow-y-auto bg-white border-l-2 border-gray-300">
        <div class="flex items-center justify-between">
            <h3 class="text-2xl font-medium text-gray-700 capitalize">{{user.username}}</h3>
            <button @click="cartOpen = !cartOpen" class="text-gray-600 focus:outline-none">
                <svg class="h-5 w-5" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor"><path d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
        </div>
        <hr class="my-3">
        <div class="shadow-lg rounded-2xl w-80 p-4 bg-white dark:bg-gray-800">
    <div class="flex flex-row items-start gap-4">
        <img src="/images/person/1.jpg" class="w-28 h-28 rounded-lg"/>
        <div class="h-28 w-full flex flex-col justify-between">
            <div>
                <p class="text-gray-800 dark:text-white text-xl font-medium">
                    John Jackson
                </p>
                <p class="text-gray-400 text-xs">
                    FullStack dev
                </p>
            </div>
            <div class="rounded-lg bg-blue-100 dark:bg-white p-2 w-full">
                <div class="flex items-center justify-between text-xs text-gray-400 dark:text-black">
                    <p class="flex flex-col">
                        Articles
                        <span class="text-black dark:text-indigo-500 font-bold">
                            34
                        </span>
                    </p>
                    <p class="flex flex-col">
                        Followers
                        <span class="text-black dark:text-indigo-500 font-bold">
                            455
                        </span>
                    </p>
                    <p class="flex flex-col">
                        Rating
                        <span class="text-black dark:text-indigo-500 font-bold">
                            9.3
                        </span>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="flex items-center justify-between gap-4 mt-6">
        <button type="button" class="w-1/2 px-4 py-2 text-base border rounded-lg text-grey-500 bg-white hover:bg-gray-200 ">
            Chat
        </button>
        <button type="button" class="w-1/2 px-4 py-2 text-base border rounded-lg text-white bg-indigo-500 hover:bg-indigo-700 ">
            Add friend
        </button>
    </div>
</div>
        
        <div class="mt-8">
            <form class="flex items-center justify-center">
                <input class="form-input w-48" type="text" placeholder="Add promocode">
                <button class="ml-3 flex items-center px-3 py-2 bg-blue-600 text-white text-sm uppercase font-medium rounded hover:bg-blue-500 focus:outline-none focus:bg-blue-500">
                    <span>Apply</span>
                </button>
            </form>
        </div>
        <a class="flex items-center justify-center mt-4 px-3 py-2 bg-blue-600 text-white text-sm uppercase font-medium rounded hover:bg-blue-500 focus:outline-none focus:bg-blue-500">
            <span>Chechout</span>
            <svg class="h-5 w-5 mx-2" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor"><path d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
        </a>
    </div>
    <main class="my-8">
        <div class="container mx-auto px-6">
            <h3 class="text-gray-700 text-2xl font-medium">Adquiere Libros digitales</h3>
            <span class="mt-3 text-sm text-gray-500 ">200+ Products</span>
            <div class="flex flex-wrap -m-4 mt-3">
              {% for product in products %}
              <div class="lg:w-1/3 md:w-1/2 p-4 w-full">
                <div class="flex max-w-md bg-white shadow-lg rounded-lg overflow-hidden">
                  <div class="w-2/5 bg-cover bg-landscape">
                    <a href="{% url 'product-detail' product.slug %}" class="focus-visible:outline-none">
                      <img src="{{product.thumbnail.url}}" alt="{{product.name}}" class=" w-full h-full block">
                    </a>
                  </div>
                  <div class="w-3/5 p-4">
                    <a href="{% url 'product-detail' product.slug %}"
                      class="focus-visible:outline-none text-gray-900 font-bold text-2xl">
                      {{product.name}}
                    </a>



                    <p class="mt-2 text-gray-600 text-sm">
                      {{product.description|truncatechars:50}}
                    </p>


                    <div class="flex item-center mt-2">
                      {% if product.get_prom_rate %}

                      {% for start in product.get_prom_rate %}
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        style="fill: rgb(63, 62, 62);transform: ;msFilter:;">
                        <path
                          d="M21.947 9.179a1.001 1.001 0 0 0-.868-.676l-5.701-.453-2.467-5.461a.998.998 0 0 0-1.822-.001L8.622 8.05l-5.701.453a1 1 0 0 0-.619 1.713l4.213 4.107-1.49 6.452a1 1 0 0 0 1.53 1.057L12 18.202l5.445 3.63a1.001 1.001 0 0 0 1.517-1.106l-1.829-6.4 4.536-4.082c.297-.268.406-.686.278-1.065z">
                        </path>
                      </svg>
                      {% endfor %}

                      {% for start in product.get_missing_start %}
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        style="fill: rgb(63, 62, 62);transform: ;msFilter:;">
                        <path
                          d="m6.516 14.323-1.49 6.452a.998.998 0 0 0 1.529 1.057L12 18.202l5.445 3.63a1.001 1.001 0 0 0 1.517-1.106l-1.829-6.4 4.536-4.082a1 1 0 0 0-.59-1.74l-5.701-.454-2.467-5.461a.998.998 0 0 0-1.822 0L8.622 8.05l-5.701.453a1 1 0 0 0-.619 1.713l4.214 4.107zm2.853-4.326a.998.998 0 0 0 .832-.586L12 5.43l1.799 3.981a.998.998 0 0 0 .832.586l3.972.315-3.271 2.944c-.284.256-.397.65-.293 1.018l1.253 4.385-3.736-2.491a.995.995 0 0 0-1.109 0l-3.904 2.603 1.05-4.546a1 1 0 0 0-.276-.94l-3.038-2.962 4.09-.326z">
                        </path>
                      </svg>
                      {% endfor %}
                      <div class="px-6 flex items-center justify-center">

                        <span class="text-lg">{{product.get_reviws_count}}</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                          style="fill: rgb(63, 62, 62);transform: ;msFilter:;">
                          <path
                            d="M16 14h.5c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-13C2.673 2 2 2.673 2 3.5V18l5.333-4H16zm-9.333-2L4 14V4h12v8H6.667z">
                          </path>
                          <path
                            d="M20.5 8H20v6.001c0 1.1-.893 1.993-1.99 1.999H8v.5c0 .827.673 1.5 1.5 1.5h7.167L22 22V9.5c0-.827-.673-1.5-1.5-1.5z">
                          </path>
                        </svg>


                      </div>

                      {% else %}
                      <span class="px-4 py-2  text-base rounded-full text-yellow-600  bg-yellow-200 ">
                        0 reviews
                      </span>
                      {% endif %}



                    </div>
                    <div class="flex item-center justify-between mt-3">
                      <h1 class="text-gray-700 font-bold text-xl">
                        ${{product.price_display}}
                      </h1>
                      <a href="{% url 'product-detail' product.slug %}"
                        class="focus-visible:outline-none px-3 py-2 bg-yellow-400 text-white  text-xs font-bold uppercase rounded">
                        Ver Libro
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              {% endfor %}

            </div>
            <div class="flex justify-center">
                <div class="flex rounded-md mt-8">
                    <a href="#" class="py-2 px-4 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 ml-0 rounded-l hover:bg-blue-500 hover:text-white"><span>Previous</a></a>
                    <a href="#" class="py-2 px-4 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 hover:bg-blue-500 hover:text-white"><span>1</span></a>
                    <a href="#" class="py-2 px-4 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 hover:bg-blue-500 hover:text-white"><span>2</span></a>
                    <a href="#" class="py-2 px-4 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 hover:bg-blue-500 hover:text-white"><span>3</span></a>
                    <a href="#" class="py-2 px-4 leading-tight bg-white border border-gray-200 text-blue-700 rounded-r hover:bg-blue-500 hover:text-white"><span>Next</span></a>
                </div>
            </div>
        </div>
    </main>
</div>
{% endblock content %}
{% block footer %}
{% include 'components/footer.html' %}
{% endblock footer %}

{% block javascript %}{% endblock javascript %}